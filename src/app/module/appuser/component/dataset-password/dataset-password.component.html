<form #passwordForm="ngForm">

    <div class="grid">

        <ng-container *ngIf="canDisplayClearCryptPwdWidget">        
            <div class="field grid col-12">
                <label for="clearButton" i18n="@@the_cryption_password_exists" class="col-fixed">
                Le mot de passe de chiffrement est présent sur ce poste</label>
                <div class="col">
                    <button id="clearButton" pButton i18n-label="@@retype_the_dataset_password" 
                    label="Ressaisir le mot de passe de chiffrement" icon="fas fa-unlock-alt" 
                    (click)="clearDatasetPassword()"></button>
                </div>
            </div>    
        </ng-container>

        <ng-container *ngIf="canDisplayCryptPwdInput">    
            <div class="field grid col-12">
                   
                <label for="allWords" i18n="@@choose_at_least_x_words" class="col-fixed">Choisir au minimum {{minNbOfWordsRequired}} mots</label>
                <div class="col">
                    <p-multiSelect id="allWords" name="allWords" [options]="allWords" 
                    i18n-defaultLabel="@@choose" defaultLabel="Choisir..."
                    [virtualScroll]="true" itemSize="30" 
                    [(ngModel)]="selectedWords" 
                    appendTo="body"
                    selectedItemsLabel="{0} {{'word(s)'|getTranslation}}" 
                    (ngModelChange)="checkIfCanSavePassword($event)"></p-multiSelect>
                    <p-message  severity="info" 
                                i18n-text="@@save_these_words_in_a_safe_place" 
                                text="Conservez ces mots dans un lieu sûr, ils vous seront de nouveau demandés pour chaque 
                                nouveau poste utilisateur ou si vous videz le cache de votre navigateur"></p-message> 
                </div>            
            </div>
        </ng-container>

        <div class="col-12" *ngIf="canDisplayCryptPwdInput">
            {{selectedWords.join(', ')}}
        </div>
    
        <div class="col-12">
            <p-button i18n-label="@@save"  label="Enregistrer" 
            (onClick)="generatePasswordHashInLocalStorage()" [disabled]="!canSavePassword"></p-button>
        </div>

    </div>
    

</form>





 


